<ons-page id="login">
    <script>
        function login() {
            var username = document.getElementById('username').value;
            console.log(username);
            var password = document.getElementById('password').value;
            console.log(password);
            ref = firebase.database().ref("/users/");
            ref.orderByChild('name').equalTo(username).on("value", function (snapshot) {
                if (snapshot.val() != null) {
                    snapshot.forEach(function (data) {
                        if (password == data.val().pass) {
                            if (username == firebase.database().ref("/users/user1")) {
                                console.log("admin");
                            }
                            document.getElementById('navigator').resetToPage("shackleton.html");
                        }
                        else {
                            alert("Incorrect password");
                        }
                    })
                }
                else {
                    alert("username unknown");
                }
            })
        }
    </script>
    <div style="text-align: center; margin-top: 200px">
        <p>
            <ons-input id="username" placeholder="Username" modifier="underbar"></ons-input>
        </p>
        <p>
            <ons-input id="password"
                       placeholder="Password"
                       type="password"
                       modifier="underbar">
            </ons-input>
        </p>
        <p>
            <ons-button id="signIn" onclick="login()">Sign in</ons-button>
        </p>
    </div>
</ons-page>